{% extends "base.html" %}

{% block content %}

  <div class="d-flex justify-content-between align-items-center">
    <h1>Task list</h1>
    <a class="btn btn-primary" href="{% url 'planner:task-create' %}">Add Task</a>
  </div>
  {% for task in task_list %}
    <div class="mt-3">
      <div class="d-flex justify-content-between align-items-center">
        <div class="row m-0">
          <h4 class="mb-0 mr-3">{{ task.content }} </h4>
          {% if task.is_done %}
              <h4 style="color: green;">Done</h4>
        </div>
              <a class="btn btn-info" href="{% url 'planner:task-toggle' task.id %}">Undo</a>
              {% else %}
                <h4 style="color: red;">Not done</h4>
        </div>
                <a class="btn btn-success" href="{% url 'planner:task-toggle' task.id %}">Complete</a>
            {% endif %}
      </div>
      <div class="mt-3">
        <p><b>Created: </b>{{ task.datetime }}</p>
      </div>
      {% if task.deadline %}
        <div class="mt-3">
          <p><b>Deadline: </b>{{ task.deadline }}</p>
        </div>
      {% endif %}
      <div class="mt-3">
        <p class="font-weight-bold mb-1">Tags:</p>
        <div class="d-inline-block">
          {% for tag in task.tags.all %}
              <span class="badge badge-info mr-1">{{ tag.name }}</span>
            {% empty %}
            No tags
          {% endfor %}
        </div>
      </div>
      <div class="mt-2">
        <a href="{% url 'planner:task-update' task.id %}">Update</a>
        <a href="{% url 'planner:task-delete' task.id %}">Delete</a>
      </div>
    </div>
    <hr>
    {% empty %}
    No tasks were added
  {% endfor %}

{% endblock %}
